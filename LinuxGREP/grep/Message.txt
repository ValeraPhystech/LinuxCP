Здравствуйте, Андрей. 

Сделал функцию grep. У меня вроде все работает для всех ситуаций. На самом деле, я не уверен, что у меня сделано все как надо, поэтому с радостью выслушаю ваши замечания. Спасибо!
